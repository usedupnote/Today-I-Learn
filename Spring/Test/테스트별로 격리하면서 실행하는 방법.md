## `테스트별로 격리하면서 실행하는 방법`

### `@DirtiesContext`

- `@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)`
- `@DirtiesContext 는 컨텍스트를 다시 로드하기 때문에 테스트 속도가 오래 걸린다는 단점이 있음`

<br>

### `@Sql`

- `@Sql(scripts = {"classpath:sql/truncate.sql", "classpath:sql/setup.sql"})`

```sql
SET REFERENTIAL_INTEGRITY FALSE;

TRUNCATE TABLE post;
TRUNCATE TABLE member;

SET REFERENTIAL_INTEGRITY FALSE;
```

위처럼 `sql` 이용해서 테이블을 조정할 수 있다.


<br>

### `AfterEach`

`AfterEach`를 사용해서 테스트가 끝날 때마다 테이블 데이터를 비워주는 작업을 진행한다.
